<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:aop="http://www.springframework.org/schema/aop" 
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd">
        <!-- 目标类 -->
        <bean id="userService" class="com.ithc.aopxml.UserServiceImpl">
        </bean>
        
        <!--配置切面类  -->
        <bean id="myAspect" class="com.ithc.aopxml.MyAspect"></bean>
        
      
        	<!-- method 写 增强的方法 
        			pointcut 里面写切入点表达式 
        			execution()固定的
        			public void com.ithc.aopxml.UserServiceImpl.save()
        			public 可以省略不写
        		-->
        		<!-- <aop:before method="log" pointcut="execution(public void com.ithc.aopxml.UserServiceImpl.save())"/> -->
        		<!--public 可以省略不写  -->
        	 <!-- <aop:before method="log" pointcut="execution( void com.ithc.aopxml.UserServiceImpl.save())"/> -->
        	 <!--void 代表返回类型  * 代表所有的返回类型  -->
<!--         	 <aop:before method="log" pointcut="execution( * com.ithc.aopxml.UserServiceImpl.save())"/> -->
				<!-- 整个项目所有类所有方法都增强，（不要这样写） -->        	 
        	 <!-- <aop:before method="log" pointcut="execution( * *.*.*.*.*())"/> -->
        	 <!-- 
        	 	*..* 代表所有的包
        	 	*ServiceImpl 类名以什么开头
        	 	save* 方法名  以什么结尾
        	 	save*(..) 参数 ： 代表所有的参数类型
        	  -->
         
        
        <aop:config>
        	<aop:pointcut expression="execution(* *..*.*ServiceImpl.save*(..))" id="pointcut"/>
        	<!--引入切面  -->
        	<aop:aspect ref="myAspect">
        		
        	 <!-- 增加日志   -->
        	<aop:before method="log" pointcut="execution(* *..*.*ServiceImpl.save*(..))"/>
        	
        	<!--前置通知  -->
        	<!-- <aop:before method="before" pointcut="execution(* *..*.*ServiceImpl.save*(..))"/> -->
        	 
        	<!--最终通知  --> 
        	<!--  <aop:after method="after" pointcut="execution(* *..*.*ServiceImpl.save*(..))"/> -->
        	 
        	 <!-- 环绕通知 -->
        	<!--  <aop:around method="around" pointcut-ref="pointcut"/> -->
        	 
        	 <!-- 异常通知 -->
        	 <!-- <aop:after-throwing method="exception" pointcut-ref="pointcut"/> -->
        	</aop:aspect>
        </aop:config>
        
        <!-- 注解的方式 -->
        <!-- 开启自动代理 -->
        <aop:aspectj-autoproxy/>
        
        <!--配置目标类  -->
        <bean id="userDao" class="com.ithc.aopzhujie.UserDaoImpl"></bean>
        
        <!--配置切面类  -->
        <bean id="myAcpect2" class="com.ithc.aopzhujie.MyAcpect2"></bean>
        
        
 </beans>